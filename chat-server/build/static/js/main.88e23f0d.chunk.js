(this["webpackJsonpchat-client"]=this["webpackJsonpchat-client"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},136:function(e,t){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),l=(a(96),a(18)),s=(a(97),a(181)),i=a(140),m=a(25),u=a(182),E=a(174),b=(a(98),Object(n.createContext)()),d=a(10),f=Object(n.memo)((function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(d.e)(),s=Object(n.useContext)(b);return c.a.createElement(i.a,{className:"WelcomePage_paper"},c.a.createElement(m.a,{variant:"subtitle1",color:"primary",component:"h1"},"My chat server"),c.a.createElement(u.a,{id:"username",label:a?"Name":"Enter your name",value:a,onChange:function(e){r(e.target.value)},className:"WelcomePage_field"}),c.a.createElement(E.a,{variant:"outlined",color:"primary",disabled:!a,onClick:function(){s.emit("sendName",{name:a,room:o.pathname.slice(1)})}},"Join chat"))})),p=a(47),O=a.n(p),v=a(183),j=(a(103),a(59)),x=(a(104),a(176)),g=a(177),h=a(175),y=function(e){return new Date(e).toLocaleTimeString("en-US")},w=(a(105),Object(n.memo)((function(e){var t=e.timestamp,a=e.sender,n=e.text,r=e.isOwn;return c.a.createElement(h.a,{className:O()("MessageBox","MessageBox__owner-".concat(r?"me":"other")),key:t+a,variant:"outlined"},c.a.createElement(x.a,{title:c.a.createElement(m.a,{variant:"subtitle1",color:"primary"},a),subheader:c.a.createElement(m.a,{variant:"subtitle2",color:"textSecondary"},y(t))}),c.a.createElement(g.a,null,c.a.createElement(m.a,null,n)))}))),C=Object(n.memo)((function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(b);return o.on("broadcastChatMessage",(function(e){var t={timestamp:e.timestamp,sender:e.sender,text:e.text,isOwn:e.id===o.id};r([].concat(Object(j.a)(a),[t]))})),o.on("serverMessage",(function(e){var t={timestamp:e.timestamp,sender:"System",text:e.text,isOwn:!1};r([].concat(Object(j.a)(a),[t]))})),c.a.createElement(i.a,{className:"MessageWindow"},a.map((function(e){var t=e.timestamp,a=e.sender,n=e.text,r=e.isOwn;return c.a.createElement(w,{key:t,timestamp:t,sender:a,text:n,isOwn:r})})))})),N=(a(106),Object(n.memo)((function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(b);return c.a.createElement(i.a,{className:"MessageBoxInput"},c.a.createElement(u.a,{placeholder:"Enter your message",value:a,onChange:function(e){r(e.target.value)},className:"MessageBoxInput_field"}),c.a.createElement(E.a,{onClick:function(){o&&(o.emit("sendChatMessage",a),r(""))},variant:"outlined",color:"primary",disabled:!a},"Send"))}))),S=a(180),M=(a(107),a(173)),_=a(178),k=a(179),W=Object(n.memo)((function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useContext)(b).on("liveRoomUsers",(function(e){console.log(e),e&&r(e)})),c.a.createElement(i.a,{className:"LiveUserWindow"},c.a.createElement(m.a,{className:"LiveUserWindow-header",variant:"subtitle1",color:"secondary",noWrap:!0},"Live users"),c.a.createElement(M.a,null,a.map((function(e,t){return c.a.createElement(_.a,{key:e},c.a.createElement(k.a,{primary:"".concat(t+1,". ").concat(e)}))}))))})),B=Object(n.memo)((function(){return c.a.createElement(S.a,{container:!0,spacing:3},c.a.createElement(S.a,{className:"ChatPage-header",item:!0,xs:12}),c.a.createElement(S.a,{item:!0,xs:3}),c.a.createElement(S.a,{item:!0,xs:6},c.a.createElement(C,null),c.a.createElement(N,null)),c.a.createElement(S.a,{item:!0,xs:3},c.a.createElement(W,null)))})),L=a(81),P=a.n(L),U=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(l.a)(o,2),m=i[0],u=i[1],E=Object(d.d)();return Object(n.useEffect)((function(){var e=P.a.connect("127.0.0.1:3001");return u(e),e.on("successEnter",(function(e){E.push("/".concat(e)),r(!0)})),function(){return m&&m.disconnect()}}),[]),c.a.createElement(b.Provider,{value:m},c.a.createElement(v.b,{injectFirst:!0},c.a.createElement(s.a,{className:O()("App_container",!a&&"App_container__modal")},a?c.a.createElement(B,null):c.a.createElement(f,null))))},I=a(42);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I.a,null,c.a.createElement(U,null))),document.getElementById("root"))},91:function(e,t,a){e.exports=a(139)},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.88e23f0d.chunk.js.map